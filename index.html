<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>So.Learn</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="media_queries.css">
    <link rel="stylesheet" href="custom-toast.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
        rel="stylesheet">

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="dashboard-container" id="dashboardContainer">

        <!--===========================================================================================================-->
        <!--                                         START: SIDEBAR LEFT                                               -->
        <!--===========================================================================================================-->
        <aside class="sidebar-left" id="sidebarLeft">
            <button class="sidebar-close-button" id="sidebarCloseButton" aria-label="Close Sidebar">&times;</button>
            <div>
                <div class="sidebar-logo">So.Learn</div>
                <nav class="sidebar-nav">
                    <ul>
                        <li><a href="index.html" class="active" data-nav="overview">
                                <i class='bx bx-grid-alt'></i>
                                Overview
                            </a></li>
                        <!--<li><a href="#" data-nav="notifications">
                            <i class='bx bx-bell'></i>
                            Notifications
                        </a></li>
                        <li><a href="#" data-nav="statistics">
                            <i class='bx bx-bar-chart-alt-2'></i>
                            Statistics
                        </a></li>
                        <li><a href="#" data-nav="chat">
                            <i class='bx bx-message-dots'></i>
                            Chat
                        </a></li>
                        <li><a href="#" data-nav="settings">
                            <i class='bx bx-cog'></i>
                            Settings
                        </a></li>-->
                        <li><a href="schedule.html" data-nav="my-schedule">
                                <i class='bx bx-calendar'></i> My Schedule
                            </a></li>
                    </ul>
                </nav>
            </div>
        </aside>
        <!--===========================================================================================================-->
        <!--                                           END: SIDEBAR LEFT                                               -->
        <!--===========================================================================================================-->

        <!--===========================================================================================================-->
        <!--                                         START: MAIN CONTENT                                               -->
        <!--===========================================================================================================-->
        <main class="main-content">
            <header class="header-top">
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class='bx bx-menu'></i>
                </button>
                <div class="header-greeting">
                    <h1>Hi, Welcome</h1>
                    <p>Let's finish your task today!</p>
                </div>
                <div class="search-bar">
                    <input type="text" id="taskSearchInput" placeholder="Search Task">
                    <i class='bx bx-search'></i>
                </div>
                <div class="header-icons">
                    <button class="icon-button">
                        <i class='bx bx-bell'></i>
                    </button>
                    <div class="user-profile">
                        <img src="https://randomuser.me/api/portraits/women/4.jpg" alt="User Avatar">
                    </div>
                </div>
            </header>

            <section class="project-summary-section">
                <div class="section-header">
                    <h2>Project Summary</h2>
                </div>
                <div class="project-cards-container" id="projectSummaryContainer">
                </div>
            </section>

            <section class="tasks-section">
                <div class="section-header">
                    <h2>Tasks</h2>
                    <div class="tasks-header-right">
                        <button class="add-task-button" id="addTaskButton">
                            <i class='bx bx-plus'></i>
                            Add Task
                        </button>
                        <button class="icon-button"><i class='bx bx-chevron-left'></i></button>
                        <button class="icon-button"><i class='bx bx-chevron-right'></i></button>
                    </div>
                </div>

                <div class="tasks-controls">
                    <div class="tasks-filters">
                        <!-- Removed All button as per user request -->
                        <select name="filter" id="taskStatusFilterSelect">
                            <option value="all">All</option>
                            <option value="in-progress">In Progress</option>
                            <option value="completed">Completed</option>
                        </select>
                        <select id="priorityFilterSelect">
                            <option value="all">Sort by priority</option>
                            <option value="high">High</option>
                            <option value="normal">Normal</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>

                <div class="tasks-list-container" id="tasksListContainer">
                    <div class="task-column">
                        <div class="task-column-header">
                            <span class="status-dot in-progress"></span>
                            <span>In Progress (<span id="inProgressCount">0</span>)</span>
                            <i id="inProgressToggle" class='bx bx-chevron-down' style="cursor:pointer;"></i>
                        </div>
                        <div id="inProgressTasks">
                        </div>
                    </div>
                    <div class="task-column">
                        <div class="task-column-header">
                            <span class="status-dot completed"></span>
                            <span>Completed (<span id="completedCount">0</span>)</span>
                            <i id="completedToggle" class='bx bx-chevron-down' style="cursor:pointer;"></i>
                        </div>
                        <div id="completedTasks">
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!--===========================================================================================================-->
        <!--                                            END: MAIN CONTENT                                               -->
        <!--============================================================================================================-->

        <!--===========================================================================================================-->
        <!--                                           START: SIDEBAR RIGHT                                            -->
        <!--===========================================================================================================-->
        <aside class="sidebar-right">
            <section class="calendar-section">
                <div class="calendar-header">
                    <button class="nav-arrows" id="prevMonthBtn"><i class='bx bx-chevron-left'></i></button>
                    <h3 id="currentMonthYear">October 2023</h3>
                    <button class="nav-arrows" id="nextMonthBtn"><i class='bx bx-chevron-right'></i></button>
                </div>
                <div class="calendar-grid" id="calendarGrid">
                    <div class="calendar-weekday">Mon</div>
                    <div class="calendar-weekday">Tue</div>
                    <div class="calendar-weekday">Wed</div>
                    <div class="calendar-weekday">Thu</div>
                    <div class="calendar-weekday">Fri</div>
                    <div class="calendar-weekday">Sat</div>
                    <div class="calendar-weekday">Sun</div>
                </div>
            </section>

            <section class="today-schedule-section">
                <div class="section-header" style="position: relative;">
                    <h2>Today Schedule</h2>
                    <button class="icon-button" id="todayScheduleMenuButton" aria-label="Open schedule menu">
                        <i class='bx bx-dots-vertical-rounded'></i>
                    </button>
                    <div id="todayScheduleDropdown" class="dropdown-menu"
                        style="display:none; position: absolute; top: 100%; right: 0; background: white; border: 1px solid #ccc; border-radius: 4px; z-index: 1000; width: 220px; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                        <button class="dropdown-item" id="addNewScheduleBtn" type="button">
                            <span>➕</span> Add new schedule
                        </button>
                        <button class="dropdown-item" id="editTodayScheduleBtn" type="button">
                            <span>✏️</span> Edit today's schedule
                        </button>
                        <button class="dropdown-item" id="deleteSelectedTodayScheduleBtn" type="button">
                            <span>🗑️</span> Delete selected schedule
                        </button>
                        <button class="dropdown-item" id="refreshScheduleBtn" type="button">
                            <span>🔁</span> Refresh schedule
                        </button>
                    </div>
                </div>
                <div class="today-schedule-list" id="todayScheduleList" style="cursor: pointer;">
                </div>
            </section>
        </aside>
    </div>
    <!--===========================================================================================================-->
    <!--                                             END: SIDEBAR RIGHT                                            -->
    <!--===========================================================================================================-->

    <!--===========================================================================================================-->
    <!--                                             START: MODAL ADD TASK                                         -->
    <!--===========================================================================================================-->
    <div class="modal-overlay modal" id="addTaskModalOverlay" style="display: none;">
        <div class="form-container">
            <div class="form-header">
                <h2 id="modalTitle">Add Task</h2>
                <button class="close-button" id="addTaskModalClose" aria-label="Tutup">&times;</button>
            </div>
            <form class="form-body" id="addTaskForm">
                <div class="form-group title-task-group">
                    <label for="taskTitle" class="input-label">Title of Task</label>
                    <div class="input-underline-wrapper">
                        <input type="text" id="taskTitle" name="taskTitle" placeholder="" required />
                        <span class="icon-edit-text"><i class="fas fa-pencil-alt"></i> Edit</span>
                    </div>
                </div>

                <div class="form-group choose-team-group">
                    <div class="icon-text-left" id="chooseTeamToggle">
                        <i class="fas fa-plus-circle"></i>
                        <span>Choose Team</span>
                    </div>
                    <div class="custom-dropdown-wrapper" id="teamDisplayDropdown">
                        <select id="chooseTeamSelect" name="chooseTeam" required></select>
                        <i class="fas fa-chevron-down select-arrow"></i>
                    </div>

                    <div class="team-input-area" style="display: none;">
                        <input type="text" id="newTeamInput" placeholder="Enter new team name" />
                        <button type="button" id="addTeamButtonModal">Add</button>
                    </div>
                </div>

                <div class="form-group description-group">
                    <div class="icon-text-left" id="addDescriptionToggle">
                        <i class="fas fa-bars"></i>
                        <span>Add Description</span>
                    </div>
                    <div class="description-input-area" style="display: none;">
                        <textarea id="description" name="description"
                            placeholder="Type your description here..."></textarea>
                    </div>
                </div>

                <div class="form-group time-entry-full-group">
                    <div class="time-entry-row">
                        <div class="icon-text-left">
                            <i class="fas fa-clock"></i>
                            <span>Starts</span>
                        </div>
                        <div class="time-inputs">
                            <input type="text" id="startDateDisplay" value="6 Oct 2023" readonly class="date-display" />
                            <input type="time" id="startTime" name="startTime" value="21:00" required />
                            <input type="date" id="startDate" name="startDate" value="2023-10-06"
                                class="hidden-date-input" />
                        </div>
                    </div>

                    <div class="time-entry-row">
                        <div class="icon-text-left">
                            <i class="fas fa-clock"></i>
                            <span>Ends</span>
                        </div>
                        <div class="time-inputs">
                            <input type="text" id="endDateDisplay" value="6 Oct 2023" readonly class="date-display" />
                            <input type="time" id="endTime" name="endTime" value="21:00" required />
                            <input type="date" id="endDate" name="endDate" value="2023-10-06"
                                class="hidden-date-input" />
                        </div>
                    </div>
                </div>

                <div class="form-group assign-group">
                    <div class="icon-text-left">
                        <i class="fas fa-user-friends"></i>
                        <span>Assign to</span>
                    </div>
                    <div class="styled-input-wrapper">
                        <input type="text" id="assignTo" name="assignTo" placeholder="Enter name" required />
                    </div>
                </div>

                <div class="form-group priority-group">
                    <label for="prioritySelect" class="input-label">Priority</label>
                    <select id="prioritySelect" name="prioritySelect" required>
                        <option value="high">High</option>
                        <option value="normal" selected>Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>

                <div class="form-group attachment-group">
                    <label for="attachmentInput" class="icon-text-left">
                        <i class="fas fa-paperclip"></i>
                        <span>Attachment</span>
                    </label>
                    <input type="file" id="attachmentInput" name="attachment" class="hidden-file-input" />
                    <span id="attachmentFileName" class="attachment-file-display"></span>
                    <span id="attachmentWarningMessage" class="attachment-warning-message"
                        style="color: red; display: none; font-size: 0.9em; margin-top: 4px;"></span>
                </div>

                <button type="submit" class="create-button" id="createTaskModalButton">Create</button>
            </form>
        </div>
    </div>
    <!--===========================================================================================================-->
    <!--                                              END: MODAL ADD TASK                                          -->
    <!--===========================================================================================================-->

    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!--===========================================================================================================-->
    <!--                                             START : MODAL SCHEDULE DETAILS                                          -->
    <!--===========================================================================================================-->
    <div class="modal-overlay" id="scheduleDetailsModal" style="display:none;">
        <div class="form-container schedule-details-container">
            <div class="form-header">
                <h2>Schedule Details</h2>
                <button type="button" class="close-button" id="closeScheduleDetailsModal"
                    aria-label="Close Modal">&times;</button>
            </div>
            <div class="form-body" id="scheduleDetailsContent">
                <!-- Schedule details will be dynamically inserted here -->
            </div>
        </div>
    </div>
    <!--===========================================================================================================-->
    <!--                                             END : MODAL SCHEDULE DETAILS                                          -->
    <!--===========================================================================================================-->

    <!--<script src="script.js"></script>-->
    <script src="script.js" defer></script>

    <!-- Toast container for notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!--===========================================================================================================-->
    <!--                                             START : MODAL FILE UPLOAD                                          -->
    <!--===========================================================================================================-->
    <div class="file-modal-overlay modal" id="fileUploadModalOverlay" style="display: none;">
        <div class="form-container file-upload-container">
            <div class="form-header">
                <h2>Manage Files</h2>
                <button class="close-button" id="fileUploadModalClose" aria-label="Close">&times;</button>
            </div>
            <div class="form-body">
                <div id="fileListContainer" class="file-list-container">
                    <!-- Uploaded files will be listed here -->
                </div>
                <div class="file-upload-input-group">
                    <label for="fileUploadInput" class="file-upload-label">
                        <i class="fas fa-upload"></i> Upload File
                    </label>
                    <input type="file" id="fileUploadInput" accept=".pdf,.docx,.png,.jpg,.jpeg" multiple
                        style="display:none;" />
                </div>
            </div>
        </div>
    </div>
    <!--===========================================================================================================-->
    <!--                                             END : MODAL FILE UPLOAD                                          -->
    <!--===========================================================================================================-->
</body>

</html>
